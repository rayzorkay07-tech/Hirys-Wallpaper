<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Irys Trusted The Future — Standalone Template</title>
  <style>
    /* Embedded Moderniz font (Regular 400) */
    @font-face {
      font-family: 'ModernizEmbedded';
      src: url(data:font/otf;base64,PASTE_BASE64_FONT_HERE) format('opentype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    /* Global styling */
    html,body{height:100%;margin:0;}
    body{
      font-family: ModernizEmbedded, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      font-weight:400;
      background:#f3f4f6;
      color:#111
    }
    .wrap{display:flex;gap:18px;padding:18px;align-items:flex-start}
    .controls{width:360px;background:#fff;padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
    h1{font-size:16px;margin:0 0 12px}
    label{display:block;font-size:13px;margin-top:10px}
    button{
      display:inline-block;
      padding:10px 12px;
      border-radius:10px;
      border:0;
      background:#0190d6;
      color:white;
      font-weight:600;
      cursor:pointer;
      margin-top:12px;
      font-family:ModernizEmbedded
    }
    .btn-row{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
    .variant{
      background:white;
      color:#111;
      border:1px solid #eceef7;
      padding:8px 10px;
      border-radius:8px;
      cursor:pointer;
      font-family:ModernizEmbedded
    }
    .variant.active{outline:3px solid rgba(79,70,229,0.12)}
    .canvas-wrap{flex:1;display:flex;align-items:center;justify-content:center}
    canvas{border-radius:8px;box-shadow:0 10px 30px rgba(15,23,42,0.12);background:white}
    .help{font-size:12px;color:#555;margin-top:10px}
    footer{font-size:12px;color:#666;margin-top:12px}
    .canvas-footer{
      position:absolute;
      left:24px;
      bottom:18px;
      font-size:14px;
      color:rgba(0,0,0,0.35);
      font-family:ModernizEmbedded
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="controls">
      <h1>Irys — 1500 × 750 JPG Template</h1>
      <div class="help">Standalone file. Choose a variation, preview, then download the JPG named <strong>Irys Trusted The Future.jpg</strong>.</div>

      <label>Variation</label>
      <div class="btn-row" id="variants">
        <button class="variant" data-idx="0">Variation 1</button>
        <button class="variant" data-idx="1">Variation 2</button>
        <button class="variant" data-idx="2">Variation 3</button>
        <button class="variant" data-idx="3">Variation 4</button>
      </div>

      <div style="display:flex;gap:8px;margin-top:12px">
        <button id="renderBtn">Render</button>
        <button id="downloadBtn">Download JPG</button>
      </div>

      <div class="help" style="margin-top:12px">
        Object centered, preserves aspect ratio, scaled to fit within <strong>718.1 × 131.9 px</strong>. The text <strong>TRUSTED THE FUTURE</strong> appears just below the object. Footer tag: <em>Hirys template</em>.
      </div>
      <footer>Font: Moderniz (embedded). This file is fully standalone.</footer>
    </div>

    <div style="position:relative;flex:1" class="canvas-wrap">
      <canvas id="c" width="1500" height="750" role="img" aria-label="Design canvas 1500 by 750"></canvas>
      <div class="canvas-footer">Hirys template</div>
    </div>
  </div>

<script>
const logoDataUrl = "data:image/jpeg;base64,PASTE_BASE64_IMAGE_HERE";

const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const variantButtons = Array.from(document.querySelectorAll('.variant'));
const renderBtn = document.getElementById('renderBtn');
const downloadBtn = document.getElementById('downloadBtn');

const BOX_W = 718.1;
const BOX_H = 131.9;
const TEXT = "TRUSTED THE FUTURE";
const TEXT_FONT_FAMILY = "ModernizEmbedded, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif";

function offsetFromAngle(angleDeg, distance) {
  const rad = angleDeg * Math.PI / 180;
  return { x: Math.cos(rad) * distance, y: Math.sin(rad) * distance };
}

const variations = [
  { bgA: "#34c9a7", bgB: "#51fed6", objColor: "#0190d6", shadowColor: "#015178", textColor: "#0190d6" },
  { bgA: "#015178", bgB: "#0190d6", objColor: "#51fed6", shadowColor: "#34c9a7", textColor: "#51fed6" },
  { bgA: "#b33318", bgB: "#ff5029", objColor: "#b33318", shadowColor: "#ff5029", textColor: "#ff5029" },
  { bgA: "#8a92c1", bgB: "#bac5ff", objColor: "#0190d6", shadowColor: "#015178", textColor: "#015178" }
];

const SHADOW_ANGLE = 135;
const SHADOW_DISTANCE = 30;
const SHADOW_BLUR = 25;

const logoImg = new Image();
logoImg.src = logoDataUrl;
logoImg.onload = () => { setActiveVariant(0); renderAll(); };

let currentVariantIndex = 0;

function setActiveVariant(idx) {
  currentVariantIndex = idx;
  variantButtons.forEach(b => b.classList.remove('active'));
  variantButtons[idx].classList.add('active');
}

function recolorLogo(img, color) {
  const w = img.width, h = img.height;
  const off = document.createElement('canvas');
  off.width = w; off.height = h;
  const octx = off.getContext('2d');
  octx.drawImage(img, 0, 0);
  octx.globalCompositeOperation = 'source-in';
  octx.fillStyle = color;
  octx.fillRect(0, 0, w, h);
  return off;
}

function drawBackground(ctxRef, bgA, bgB) {
  const g = ctxRef.createLinearGradient(0, 0, 0, canvas.height);
  g.addColorStop(0, bgA);
  g.addColorStop(1, bgB);
  ctxRef.fillStyle = g;
  ctxRef.fillRect(0, 0, canvas.width, canvas.height);
}

function drawVariant(v) {
  drawBackground(ctx, v.bgA, v.bgB);
  const scale = Math.min(BOX_W / logoImg.width, BOX_H / logoImg.height, 1);
  const w = logoImg.width * scale, h = logoImg.height * scale;
  const x = (canvas.width - w) / 2, y = (canvas.height - h) / 2;

  const recolored = recolorLogo(logoImg, v.objColor);
  const shadowOffset = offsetFromAngle(SHADOW_ANGLE, SHADOW_DISTANCE);

  ctx.shadowColor = v.shadowColor;
  ctx.shadowBlur = SHADOW_BLUR;
  ctx.shadowOffsetX = shadowOffset.x;
  ctx.shadowOffsetY = shadowOffset.y;
  ctx.drawImage(recolored, 0, 0, recolored.width, recolored.height, x, y, w, h);
  ctx.shadowColor = 'transparent';
  ctx.drawImage(recolored, 0, 0, recolored.width, recolored.height, x, y, w, h);

  ctx.font = `bold ${Math.max(20, h * 0.3)}px ${TEXT_FONT_FAMILY}`;
  ctx.fillStyle = v.textColor;
  ctx.textAlign = "center";
  ctx.fillText(TEXT, canvas.width / 2, y + h + 30);
}

function renderAll() { drawVariant(variations[currentVariantIndex]); }

function downloadJPG() {
  canvas.toBlob(blob => {
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = "Irys Trusted The Future.jpg";
    a.click();
    URL.revokeObjectURL(url);
  }, "image/jpeg", 0.92);
}

variantButtons.forEach((btn, idx) => btn.addEventListener('click', () => { setActiveVariant(idx); renderAll(); }));
renderBtn.addEventListener('click', renderAll);
downloadBtn.addEventListener('click', downloadJPG);
</script>
</body>
</html>
